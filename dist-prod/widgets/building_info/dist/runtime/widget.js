System.register(["jimu-core/react","jimu-arcgis"],(function(e,t){var l={},a={};return{setters:[function(e){l.default=e.default,l.useState=e.useState},function(e){a.JimuMapViewComponent=e.JimuMapViewComponent}],execute:function(){e((()=>{var e={2686:e=>{"use strict";e.exports=a},8972:e=>{"use strict";e.exports=l}},t={};function n(l){var a=t[l];if(void 0!==a)return a.exports;var r=t[l]={exports:{}};return e[l](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="";var r={};return n.p=window.jimuConfig.baseUrl,(()=>{"use strict";n.r(r),n.d(r,{__set_webpack_public_path__:()=>u,default:()=>a});var e=n(8972),t=n(2686),l=function(e,t,l,a){return new(l||(l=Promise))((function(n,r){function u(e){try{i(a.next(e))}catch(e){r(e)}}function o(e){try{i(a.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?n(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(u,o)}i((a=a.apply(e,t||[])).next())}))};function a(a){var n;const[r,u]=(0,e.useState)(null),[o,i]=(0,e.useState)(""),[d,c]=(0,e.useState)(""),[s,f]=(0,e.useState)(""),[p,g]=(0,e.useState)(""),[m,b]=(0,e.useState)(""),[v,y]=(0,e.useState)([]),[E,h]=(0,e.useState)(!1),[x,C]=(0,e.useState)(null),[S,w]=(0,e.useState)(1),[j,B]=(0,e.useState)(null),k=(...e)=>l(this,[...e],void 0,(function*(e=1){var t,l,a;if(!o||!d||!m)return void C("\ubaa8\ub4e0 \ud544\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");h(!0),C(null);const n=`http://localhost:3002/data-api/1613000/BldRgstHubService/${m}?serviceKey=fD0DCX7wMXP7oajt2G6gM9Gp9x3cxPbHZURBn3%2FG68CU%2Bta1e9Kx7vvu2vAg6Cj9%2BtuyfBqqPfJDbTw9IsfC%2Bw%3D%3D&sigunguCd=${o}&bjdongCd=${d}&bun=${s}&ji=${p}&pageNo=${e}&_type=json&numOfRows=10`;try{const r=yield fetch(n);if(!r.ok)throw new Error(`HTTP error! Status: ${r.status}`);const u=(null===(a=null===(l=null===(t=(yield r.json()).response)||void 0===t?void 0:t.body)||void 0===l?void 0:l.items)||void 0===a?void 0:a.item)||[];y(u),w(e)}catch(e){C(`\ub370\uc774\ud130\ub97c \uac00\uc838\uc624\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4: ${e.message}`)}finally{h(!1)}}));return e.default.createElement("div",{className:"building-info-widget",style:{maxHeight:"100vh",overflowY:"auto",padding:"20px",border:"1px solid #ccc"}},e.default.createElement("h1",null,"\uac74\ucd95\ubb3c \uc815\ubcf4 \uc870\ud68c"),e.default.createElement(t.JimuMapViewComponent,{useMapWidgetId:null===(n=a.useMapWidgetIds)||void 0===n?void 0:n[0],onActiveViewChange:e=>{e&&u(e)}}),e.default.createElement("div",null,e.default.createElement("label",null,"Sigungu Code:",e.default.createElement("input",{type:"text",value:o,onChange:e=>i(e.target.value)})),e.default.createElement("label",null,"Bjdong Code:",e.default.createElement("input",{type:"text",value:d,onChange:e=>c(e.target.value)})),e.default.createElement("label",null,"Bun:",e.default.createElement("input",{type:"text",value:s,onChange:e=>f(e.target.value)})),e.default.createElement("label",null,"Ji:",e.default.createElement("input",{type:"text",value:p,onChange:e=>g(e.target.value)})),e.default.createElement("label",null,"Select API:",e.default.createElement("select",{value:m,onChange:e=>b(e.target.value)},e.default.createElement("option",{value:""},"API \uc120\ud0dd"),[{value:"getBrTitleInfo",label:"\uac74\ucd95\ubb3c\ub300\uc7a5 \ud45c\uc81c\ubd80 \uc870\ud68c"},{value:"getBrBasisOulnInfo",label:"\uac74\ucd95\ubb3c\ub300\uc7a5 \uae30\ubcf8\uac1c\uc694 \uc870\ud68c"},{value:"getBrFlrOulnInfo",label:"\uac74\ucd95\ubb3c\ub300\uc7a5 \uce35\ubcc4\uac1c\uc694 \uc870\ud68c"},{value:"getBrExposPubuseAreaInfo",label:"\uac74\ucd95\ubb3c\ub300\uc7a5 \uc804\uc720\uacf5\uc6a9\uba74\uc801 \uc870\ud68c"},{value:"getBrHsprcInfo",label:"\uac74\ucd95\ubb3c\ub300\uc7a5 \uc8fc\ud0dd\uac00\uaca9 \uc870\ud68c"},{value:"getBrExposInfo",label:"\uac74\ucd95\ubb3c\ub300\uc7a5 \uc804\uc720\ubd80 \uc870\ud68c"},{value:"getBrWclfInfo",label:"\uac74\ucd95\ubb3c\ub300\uc7a5 \uc624\uc218\uc815\ud654\uc2dc\uc124 \uc870\ud68c"},{value:"getBrRecapTitleInfo",label:"\uac74\ucd95\ubb3c\ub300\uc7a5 \ucd1d\uad04\ud45c\uc81c\ubd80 \uc870\ud68c"},{value:"getBrAtchJibunInfo",label:"\uac74\ucd95\ubb3c\ub300\uc7a5 \ubd80\uc18d\uc9c0\ubc88 \uc870\ud68c"},{value:"getBrJijiguInfo",label:"\uac74\ucd95\ubb3c\ub300\uc7a5 \uc9c0\uc5ed\uc9c0\uad6c\uad6c\uc5ed \uc870\ud68c"}].map((t=>e.default.createElement("option",{key:t.value,value:t.value},t.label))))),e.default.createElement("button",{onClick:()=>k(1)},"\uc870\ud68c")),E&&e.default.createElement("p",null,"\ub85c\ub529 \uc911..."),x&&e.default.createElement("p",{style:{color:"red"}},x),v.length?e.default.createElement("table",{className:"data-table",style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"}},e.default.createElement("thead",null,e.default.createElement("tr",null,e.default.createElement("th",{style:{border:"1px solid black",padding:"8px"}},"\uc8fc\uc18c"))),e.default.createElement("tbody",null,v.map(((t,l)=>e.default.createElement("tr",{key:l,onClick:()=>{B(t),(e=>{const{sigunguCd:t,bjdongCd:l,bun:a,ji:n}=e;if(!r)return void alert("\ub9f5\uc774 \ud65c\uc131\ud654\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.");const u=r.view.map.layers.find((e=>"\uace0\uc591\uc2dc\uac74\ubb3c"===e.title));if(u&&"scene"===u.type){const e=u,o=t+l,i=Number(a),d=Number(n);if(isNaN(i)||isNaN(d))return void alert("\ubcf8\ubc88 \ub610\ub294 \ubd80\ubc88 \uac12\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uc22b\uc790\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");const c=e.createQuery();c.where=`bjcd='${o}' AND \ubcf8\ubc88=${i} AND \ubd80\ubc88=${d}`,c.returnGeometry=!0,console.log("\ucffc\ub9ac \uc870\uac74:",c.where),e.queryFeatures(c).then((e=>{if(e.features.length>0){const t=e.features[0].geometry;r.view.goTo({target:t,zoom:18})}else alert("\ud574\ub2f9 \uc870\uac74\uc5d0 \ub9de\ub294 \uac74\ubb3c\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")})).catch((e=>{console.error("SceneLayer \ucffc\ub9ac \uc911 \uc624\ub958 \ubc1c\uc0dd:",e),alert("SceneLayer \ucffc\ub9ac \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}))}else alert("SceneLayer\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")})({sigunguCd:o,bjdongCd:t.bjdongCd,bun:t.bun,ji:t.ji})},style:{cursor:"pointer"}},e.default.createElement("td",{style:{border:"1px solid black",padding:"8px"}},t.platPlc)))))):e.default.createElement("p",null,"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),j?e.default.createElement("div",{style:{marginTop:"20px",border:"1px solid black",padding:"10px",position:"relative"}},e.default.createElement("button",{onClick:()=>B(null),style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"16px",cursor:"pointer"}},"\u274c"),e.default.createElement("h2",null,"\uc0c1\uc138 \uc815\ubcf4"),e.default.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},e.default.createElement("tbody",null,Object.entries(j).map((([t,l])=>e.default.createElement("tr",{key:t},e.default.createElement("td",{style:{border:"1px solid black",padding:"8px",fontWeight:"bold",width:"30%"}},t),e.default.createElement("td",{style:{border:"1px solid black",padding:"8px",width:"70%"}},String(l)))))))):null,e.default.createElement("div",{style:{marginTop:"20px"}},e.default.createElement("button",{onClick:()=>k(S-1),disabled:1===S,style:{marginRight:"10px"}},"\uc774\uc804"),e.default.createElement("span",null,"\ud398\uc774\uc9c0 ",S),e.default.createElement("button",{onClick:()=>k(S+1)},"\ub2e4\uc74c")))}function u(e){n.p=e}})(),r})())}}}));