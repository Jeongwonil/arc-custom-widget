System.register(["jimu-core/react","jimu-core"],(function(e,t){var a={},n={};return{setters:[function(e){a.useEffect=e.useEffect,a.useState=e.useState},function(e){n.DataRecordsSelectionChangeMessage=e.DataRecordsSelectionChangeMessage,n.DataSourceManager=e.DataSourceManager,n.MessageManager=e.MessageManager,n.React=e.React}],execute:function(){e((()=>{var e={244:e=>{"use strict";e.exports=n},972:e=>{"use strict";e.exports=a}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,r),o.exports}r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="";var o={};return r.p=window.jimuConfig.baseUrl,(()=>{"use strict";r.r(o),r.d(o,{__set_webpack_public_path__:()=>l,default:()=>n});var e=r(972),t=r(244),a=function(e,t,a,n){return new(a||(a=Promise))((function(r,o){function l(e){try{s(n.next(e))}catch(e){o(e)}}function c(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,c)}s((n=n.apply(e,t||[])).next())}))};function n(n){const[r,o]=(0,e.useState)(null),[l,c]=(0,e.useState)(null),[s,d]=(0,e.useState)("dataSource_3-0");(0,e.useEffect)((()=>{const e=()=>a(this,void 0,void 0,(function*(){try{const e=t.DataSourceManager.getInstance().getDataSource(s);if(e)if(yield e.ready(),console.log("\ub370\uc774\ud130 \uc18c\uc2a4 \uc900\ube44 \uc644\ub8cc:",e),console.log("dataSourceJson:",e.getDataSourceJson()),"FEATURE_LAYER"===e.type){const a=e,r=yield a.query({where:"1=1",outFields:["*"]});if(console.log("FeatureLayer \ucffc\ub9ac \uacb0\uacfc:",r),0===r.records.length)console.warn("FeatureLayer\uc5d0\uc11c \uac00\uc838\uc628 \ub370\uc774\ud130 \ub808\ucf54\ub4dc\uac00 \ube44\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.");else{c(e);const a=r.records[0],o={dataSource:e,getData:()=>a.getData(),setData:e=>{},clone:()=>null,getDataBeforeMapping:()=>null,getFieldValue:e=>a.getFieldValue(e)};t.MessageManager.getInstance().publishMessage(new t.DataRecordsSelectionChangeMessage(n.id,[o])),console.log("\uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc644\ub8cc:",o)}}else console.warn("\uc9c0\uc6d0\ub418\uc9c0 \uc54a\ub294 \ub370\uc774\ud130 \uc18c\uc2a4 \uc720\ud615\uc785\ub2c8\ub2e4.");else console.error("\ub370\uc774\ud130 \uc18c\uc2a4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")}catch(e){console.error("\ub370\uc774\ud130 \uc18c\uc2a4 \uc900\ube44 \uc911 \uc624\ub958 \ubc1c\uc0dd:",e)}}));e();const r=setInterval((()=>{l&&!l.isDataSourceSet&&(console.warn("\ub370\uc774\ud130 \uc18c\uc2a4\uac00 \uc900\ube44\ub418\uc9c0 \uc54a\uc74c, \ub2e4\uc2dc \uc2dc\ub3c4\ud569\ub2c8\ub2e4."),e())}),5e3);return()=>clearInterval(r)}),[n.id,s]);return t.React.createElement("div",null,t.React.createElement("h3",null,"\uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc704\uc82f"),t.React.createElement("p",null,"\ud604\uc7ac \uc704\uc82f ID: ",n.id),t.React.createElement("p",null,"\uc784\uc758\uc758 \ub370\uc774\ud130\ub97c \uc804\uc1a1\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."),t.React.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},t.React.createElement("thead",null,t.React.createElement("tr",null,t.React.createElement("th",{style:{border:"1px solid #ddd",padding:"8px"}},"ID"),t.React.createElement("th",{style:{border:"1px solid #ddd",padding:"8px"}},"\uc774\ub984"),t.React.createElement("th",{style:{border:"1px solid #ddd",padding:"8px"}},"\uc6b0\ud3b8\ubc88\ud638"))),t.React.createElement("tbody",null,[{id:"1",name:"John Doe",zip:"12345"},{id:"2",name:"Jane Doe",zip:"67890"},{id:"3",name:"Kane Doe",zip:"44444"}].map((e=>t.React.createElement("tr",{key:e.id,onClick:()=>(e=>{if(o(e),l&&l.isDataSourceSet){const a={dataSource:l,getData:()=>({id:e.id,name:e.name,zip:e.zip}),setData:e=>{},clone:()=>null,getDataBeforeMapping:()=>null,getFieldValue:t=>e[t]};t.MessageManager.getInstance().publishMessage(new t.DataRecordsSelectionChangeMessage(n.id,[a])),console.log("\uba54\uc2dc\uc9c0 \uc804\uc1a1 \uc644\ub8cc:",a)}else console.error("\ub370\uc774\ud130 \uc18c\uc2a4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uac70\ub098 \uc900\ube44\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.")})(e),style:{cursor:"pointer",backgroundColor:(null==r?void 0:r.id)===e.id?"#f0f8ff":"transparent"}},t.React.createElement("td",{style:{border:"1px solid #ddd",padding:"8px"}},e.id),t.React.createElement("td",{style:{border:"1px solid #ddd",padding:"8px"}},e.name),t.React.createElement("td",{style:{border:"1px solid #ddd",padding:"8px"}},e.zip)))))),r&&t.React.createElement("p",null,"\uc120\ud0dd\ub41c \ub370\uc774\ud130: ",r.name," (",r.zip,")"))}function l(e){r.p=e}})(),o})())}}}));